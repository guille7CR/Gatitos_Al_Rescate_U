@model IEnumerable<FrontEnd.Models.C_PersonaViewModel>

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

    <div style="margin-top: 12%; margin-left: 10%; margin-right: 10%">

        <h1>Listado de Personas</h1>

        <p>
            @Html.ActionLink("Registrar Nuevo", "Create")
        </p>
         <div class="form-group col-sm-3">

         <label>Buscar:</label><br />
         <input type="text" onkeyup="Search_Gridview(this, 'lista_Personas')">
     </div>
        <br>
        <table class="table" id="lista_Personas">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.IdProvincia)
                </th>
                
                <th>
                    @Html.DisplayNameFor(model => model.nombrePersona)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.primerApellido)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.segundoApellido)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.cedula)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.correo)
                </th>
                
                <th>
                    @Html.DisplayNameFor(model => model.telefono)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.fechaNacimiento)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
        <tr>

            <td>
                @Html.DisplayFor(modelItem => item.C_Provincia.NombreProvincia)
            </td>

            <td>
                @Html.DisplayFor(modelItem => item.nombrePersona)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.primerApellido)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.segundoApellido)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.cedula)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.correo)
            </td>          
            <td>
                @Html.DisplayFor(modelItem => item.telefono)
            </td>            
            <td>
                @*@{
            DateTime actual = DateTime.Now;
            DateTime? fecha = item.fechaNacimiento;
            var edad = actual - fecha;
        }
        @Html.DisplayFor(modelItem => @edad)*@
                @Html.DisplayFor(modelItem => item.fechaNacimiento)
            </td>
            <td>
                @Html.ActionLink("Editar", "Edit", new { id = item.IdPersona }) |
                @Html.ActionLink("Detalles", "Details", new { id = item.IdPersona }) |
                @Html.ActionLink("Eliminar", "Delete", new { id = item.IdPersona })
            </td>
        </tr>
            }

        </table>
    </div>
    <script src="~/Scripts/Search.js"></script>